(this.webpackJsonpepic=this.webpackJsonpepic||[]).push([[9],{259:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(124),i=n(24),a=n(0),s=n(63),u=n(59),l=n(125),o=n(250),d=n(255),j=n(109),b=n(154),h=n(107),p=n(261),g=n(26);function f(){var e=Object(i.a)(["\n    outline: none;\n    margin-right: 10px;\n    margin-top: 10px;\n\n"]);return f=function(){return e},e}function x(){var e=Object(i.a)(["\n    margin-left: 10px;\n"]);return x=function(){return e},e}function O(){var e=Object(i.a)(["\n    margin-top:10px;\n    max-width: 300px;\n"]);return O=function(){return e},e}function m(){var e=Object(i.a)(["\n    margin: 20px 0;\n    text-align: center;\n"]);return m=function(){return e},e}function v(){var e=Object(i.a)(["\n    margin-top: 30px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    border-shadow: 0 0 0 4px rgba(0, 0 ,0, .3);\n    background: #fff;\n    /* opacity: .8; */\n    padding: 20px;\n"]);return v=function(){return e},e}var w=d.a.Dragger,y=g.a.div(v()),S=g.a.h1(m()),C=g.a.img(O()),F=g.a.a(x()),k=g.a.input(f()),U=Object(s.a)((function(){var e=Object(u.a)(),t=e.ImageStore,n=e.UserStore,c=Object(a.useRef)(),i=Object(a.useRef)(),s=Object(o.a)((function(){return{width:null,setWidth:function(e){s.width=e},get widthStr(){return s.width?"/w/".concat(s.width):""},height:null,setHeight:function(e){s.height=e},get heightStr(){return s.height?"/h/".concat(s.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+s.widthStr+s.heightStr}}})),d={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(j.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>2097152?(j.b.error("\u56fe\u7247\u6700\u59272M"),!1):(t.upload().then((function(e){j.b.success("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){j.b.error("\u4e0a\u4f20\u5931\u8d25")})),!1):(j.b.error("\u53ea\u80fd\u4e0a\u4f20svg/png/jpg/jpeg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1))}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUpLoading,children:Object(r.jsxs)(w,Object(l.a)(Object(l.a)({},d),{},{children:[Object(r.jsxs)("p",{className:"ant-upload-drag-icon",children:[" ",Object(r.jsx)(p.a,{})," "]}),Object(r.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(r.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.svg/.png/.jpg/.jpeg/.gif \u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u59272M"})]}))}),t.serverFile?Object(r.jsxs)(y,{children:[Object(r.jsx)(S,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(r.jsxs)("dl",{children:[Object(r.jsx)("dt",{children:"\u7ebf\u4e0a\u5730\u5740"}),Object(r.jsxs)("dd",{children:[Object(r.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,children:"\u70b9\u51fb\u67e5\u770b"}),Object(r.jsx)(h.a,{type:"primary",onClick:function(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("Copy")?(document.execCommand("Copy"),j.b.success("\u590d\u5236\u6210\u529f")):j.b.error("\u590d\u5236\u5931\u8d25,\u8bf7\u901a\u8fc7\u5728\u7ebf\u9884\u89c8\u624b\u52a8\u590d\u5236"),document.body.removeChild(t)}.bind(null,t.serverFile.attributes.url.attributes.url),children:"\u590d\u5236\u56fe\u7247\u94fe\u63a5"})]}),Object(r.jsx)("dt",{children:"\u6587\u4ef6\u540d: "}),Object(r.jsx)("dd",{children:t.filename}),Object(r.jsx)("dt",{children:"\u56fe\u7247\u9884\u89c8"}),Object(r.jsxs)("dd",{children:[" ",Object(r.jsx)(C,{src:t.serverFile.attributes.url.attributes.url})," "]}),Object(r.jsx)("dt",{children:"\u66f4\u591a\u5c3a\u5bf8"}),Object(r.jsxs)("dd",{children:[Object(r.jsx)(k,{ref:c,onChange:function(){s.setWidth(c.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),Object(r.jsx)(k,{ref:i,onChange:function(){s.setHeight(i.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"}),Object(r.jsx)(F,{target:"_blank",href:s.fullStr,children:"\u70b9\u51fb\u67e5\u770b\u56fe\u7247"})]})]})]}):null]})}));function $(){var e=Object(i.a)(["\n    background: green;\n    font-size: 16px;\n    padding: 10px; \n    margin: 30px 0;\n    color: #fff;\n    border-radius: 4px;\n    text-align: center;\n"]);return $=function(){return e},e}function N(){var e=Object(i.a)(["\n    background: red;\n    padding: 10px; \n    margin: 30px 0;\n    color: #fff;\n    border-radius: 4px;\n    text-align: center;\n"]);return N=function(){return e},e}var z=g.a.div(N()),H=g.a.h1($()),J=Object(s.a)((function(e){var t=e.children,n=Object(u.a)().UserStore;return Object(r.jsx)(r.Fragment,{children:n.currentUser?Object(r.jsx)(H,{children:"\u767b\u5f55\u6210\u529f\uff0c\u53ef\u4ee5\u4e0a\u4f20\u56fe\u7247\u5566"}):Object(r.jsx)(z,{children:t})})}));function L(){var e=Object(i.a)(["\n    color: #fff;\n"]);return L=function(){return e},e}var M=g.a.a(L()),R=Object(s.a)((function(){Object(u.a)().UserStore;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(J,Object(c.a)({children:!0},"children",[" ",Object(r.jsx)(M,{href:"/login",children:"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"}),"  "])),Object(r.jsx)(U,{})]})}));t.default=R}}]);
//# sourceMappingURL=9.e573f340.chunk.js.map